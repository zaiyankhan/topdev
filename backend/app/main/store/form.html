<navbar></navbar>
<div class="page-container">
  <backend-menu></backend-menu>
  <div class="page-content-wrapper">
    <div class="page-content">
      <div class="page-bar">
        <ul class="page-breadcrumb">
          <li>
            <i class="fa fa-home"></i>
            <a ui-sref="dashboard">Dashboard</a>
            <i class="fa fa-angle-right"></i>
          </li>
          <li>
            <a ui-sref='store'>Store</a>
          </li>
        </ul>
      </div>
      <h3 class="page-title">
        Management Products <small></small>
      </h3>
      <div class="row">
        <div class="col-md-12">
          <!-- BEGIN EXAMPLE TABLE PORTLET-->
          <div class="portlet box blue">
            <div class="portlet-title">
              <div class="caption">
                <i class="fa fa-gift"></i> {{action}} {{product.name}}
              </div>
              <div class="tools">
                <a href="" class="collapse" data-original-title="" title="">
                </a>

              </div>
            </div>
            <div class="portlet-body form" style="display: block;">
              <form enctype="multipart/form-data" name="form" ng-submit="submitForm(form,product.imageFullPath)"
                novalidate>
                <div class="form-body">

                  <div class="form-group">
                    <label>Name</label>
                    <input type="text" class="form-control" name="name" ng-model='product.name' required>

                    <p class="help-block" ng-show="form.name.$error.required && submitted">
                      This field is required
                    </p>
                  </div>
                  <div class="form-group">
                    <label>Models</label>
                    <select ui-select2="select2Options" data-placeholder="Select Model" class="form-control"
                      ng-model="product.performerId">
                      <option ng-repeat="performer in performers" value="{{performer._id}}">{{performer.name}}
                      </option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Image</label>
                    <div class="photo-upload">
                      <img ng-show="form.file.$valid " ngf-thumbnail="product.imageFullPath | checkImage" class="thumb">

                      <div class="upload">
                        <input class="btn btn-warning btupload" type="file" ngf-select ng-model="product.imageFullPath"
                          name="file" accept="image/*" ngf-max-size="2MB" ngf-model-invalid="errorFile">
                        <!--                    <p class="help-block" ng-show="form.file.$error.required && submitted">
                    This field is required
                    </p>-->
                        <p class="help-block" ng-show="form.file.$error.maxSize && submitted">
                          File too large
                          {{errorFile.size / 1000000|number:1}}MB: max 2M
                        </p>
                        <span class="progress" ng-show="picFile.progress >= 0">
                          <div style="width:{{picFile.progress}}%" ng-bind="form.progress + '%'"></div>
                        </span>
                        <span ng-show="form.result">Upload Successful</span>
                        <span class="err" ng-show="errorMsg">{{errorMsg}}</span>
                      </div>
                    </div>
                  </div>


                  <div class="form-group">
                    <label>Description</label>
                    <textarea class="form-control" rows='5' ng-model='product.description'></textarea>
                  </div>
                  <div class="form-group">
                    <label>Categories</label>
                    <div class="row">
                      <div class="col-md-2" ng-repeat="cat in categories track by $index">
                        <label>
                          <input type="checkbox" name="selectedCategories[]" value="{{cat._id}}"
                            ng-checked="product.categoryIds.indexOf(cat._id) > -1" ng-click="toggleCategory(cat._id)">
                          {{cat.name}}
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-3">
                      <div class="form-group">
                        <label>Price</label>
                        <input type="text" class="form-control" required name="price" ng-model='product.price'>
                        <p class="help-block" ng-show="form.price.$error.required && submitted">
                          This field is required
                        </p>
                      </div>
                    </div>
                    <div class="col-lg-3">
                      <div class="form-group">
                        <label>Quantity</label>
                        <input type="text" class="form-control" required name="quantity" ng-model='product.quantity'>
                        <p class="help-block" ng-show="form.quantity.$error.required && submitted">
                          This field is required
                        </p>
                      </div>
                    </div>
                    <div class="col-lg-3">
                      <div class="form-group">
                        <label>Sort</label>
                        <input type="text" class="form-control" ng-model='product.sort'>
                      </div>
                    </div>
                    <div class="col-lg-3">
                      <div class="form-group">
                        <label>Status</label>
                        <select class='form-control' ng-model='product.status'>
                          <option value='active'>Active</option>
                          <option value='inactive'>Inactive</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12">
                      <label>Allow apply coupon code? <input type="checkbox"
                          ng-model="product.allowApplyCoupon" /></label>
                    </div>
                  </div>
                </div>
                <div class="form-actions right">
                  <a ui-sref='store' class="btn default">Cancel</a>
                  <button type="submit" class="btn green">Submit</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix">
      </div>
    </div>
  </div>
</div>
<footer></footer>
